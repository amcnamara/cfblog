#!/bin/sh

BINSRC=$(dirname $0)

source $BINSRC/git-blog-helpers.sh
source $BINSRC/git-blog-init.sh
source $BINSRC/git-blog-configure.sh
source $BINSRC/git-blog-add.sh
source $BINSRC/git-blog-build.sh
source $BINSRC/git-blog-publish.sh

case $1 in
    init)
	initialize $2
	configure
	echo "Successfully created new blog repo!"
	echo $PWD
	;;
    clone)
	clone $2
	configure_aws
	echo "Successfully cloned existing blog repo!"
	;;
    configure)
	configure
	;;
    add)
	add $2
	;;
    build)
	build
	;;
    publish)
	publish
	;;
    *)
	usage
	;;
esac

exit 0
